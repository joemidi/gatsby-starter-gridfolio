"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.observe||function(e,t,n,o){var r,i,s=["add","update","delete","reconfigure","setPrototype","preventExtensions"],c=t.isArray||function(e){return function(t){return"[object Array]"===e.call(t)}}(e.prototype.toString),f=t.prototype.indexOf?t.indexOf||function(e,n,o){return t.prototype.indexOf.call(e,n,o)}:function(e,t,n){for(var o=n||0;o<e.length;o++)if(e[o]===t)return o;return-1},a=void 0!==n.Map&&Map.prototype.forEach?function(){return new Map}:function(){var e=[],t=[];return{size:0,has:function(t){return f(e,t)>-1},get:function(n){return t[f(e,n)]},set:function(n,o){var r=f(e,n);-1===r?(e.push(n),t.push(o),this.size++):t[r]=o},delete:function(n){var o=f(e,n);o>-1&&(e.splice(o,1),t.splice(o,1),this.size--)},forEach:function(n){for(var o=0;o<e.length;o++)n.call(arguments[1],t[o],e[o],this)}}},u=e.getOwnPropertyNames?function(){var t=e.getOwnPropertyNames;try{arguments.callee}catch(o){var n=(t(f).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");n.length&&(t=function(t){var o=e.getOwnPropertyNames(t);if("function"==typeof t)for(var r,i=0;i<n.length;)(r=f(o,n[i++]))>-1&&o.splice(r,1);return o})}return t}():function(t){var n,o,r=[];if("hasOwnProperty"in t)for(n in t)t.hasOwnProperty(n)&&r.push(n);else{o=e.hasOwnProperty;for(n in t)o.call(t,n)&&r.push(n)}return c(t)&&r.push("length"),r},p=e.getPrototypeOf,l=e.defineProperties&&e.getOwnPropertyDescriptor,d=n.requestAnimationFrame||n.webkitRequestAnimationFrame||function(){var e=+new Date,t=e;return function(n){return setTimeout(function(){n((t=+new Date)-e)},17)}}(),v=function(t,n){var o,i=u(t),s=[],c=0,n={handlers:a(),frozen:!!e.isFrozen&&e.isFrozen(t),extensible:!e.isExtensible||e.isExtensible(t),proto:p&&p(t),properties:i,values:s,notifier:g(t,n)};if(l)for(o=n.descriptors=[];c<i.length;)o[c]=l(t,i[c]),s[c]=t[i[c++]];else for(;c<i.length;)s[c]=t[i[c++]];return r.set(t,n),n},b=function(){var t=l?function(e,t,n,o,r){var i=t.properties[n],s=e[i],c=t.values[n],f=t.descriptors[n];"value"in r&&(c===s?0===c&&1/c!=1/s:c==c||s==s)&&(w(e,t,{name:i,type:"update",object:e,oldValue:c},o),t.values[n]=s),!f.configurable||r.configurable&&r.writable===f.writable&&r.enumerable===f.enumerable&&r.get===f.get&&r.set===f.set||(w(e,t,{name:i,type:"reconfigure",object:e,oldValue:c},o),t.descriptors[n]=r)}:function(e,t,n,o){var r=t.properties[n],i=e[r],s=t.values[n];(s===i?0===s&&1/s!=1/i:s==s||i==i)&&(w(e,t,{name:r,type:"update",object:e,oldValue:s},o),t.values[n]=i)},n=l?function(e,n,o,r,i){for(var s,c=n.length;o&&c--;)null!==n[c]&&(o--,(s=l(e,n[c]))?t(e,r,c,i,s):(w(e,r,{name:n[c],type:"delete",object:e,oldValue:r.values[c]},i),r.properties.splice(c,1),r.values.splice(c,1),r.descriptors.splice(c,1)))}:function(e,t,n,o,r){for(var i=t.length;n&&i--;)null!==t[i]&&(w(e,o,{name:t[i],type:"delete",object:e,oldValue:o.values[i]},r),o.properties.splice(i,1),o.values.splice(i,1),n--)};return function(o,r,i){if(o.handlers.size&&!o.frozen){var s,c,a,d,v,b,y,h,g=o.values,j=o.descriptors,m=0;if(o.extensible)if(s=o.properties.slice(),c=s.length,a=u(r),j){for(;m<a.length;)v=a[m++],d=f(s,v),h=l(r,v),-1===d?(w(r,o,{name:v,type:"add",object:r},i),o.properties.push(v),g.push(r[v]),j.push(h)):(s[d]=null,c--,t(r,o,d,i,h));n(r,s,c,o,i),e.isExtensible(r)||(o.extensible=!1,w(r,o,{type:"preventExtensions",object:r},i),o.frozen=e.isFrozen(r))}else{for(;m<a.length;)v=a[m++],d=f(s,v),b=r[v],-1===d?(w(r,o,{name:v,type:"add",object:r},i),o.properties.push(v),g.push(b)):(s[d]=null,c--,t(r,o,d,i));n(r,s,c,o,i)}else if(!o.frozen){for(;m<s.length;m++)v=s[m],t(r,o,m,i,l(r,v));e.isFrozen(r)&&(o.frozen=!0)}p&&(y=p(r))!==o.proto&&(w(r,o,{type:"setPrototype",name:"__proto__",object:r,oldValue:o.proto}),o.proto=y)}}}(),y=function e(){r.size&&(r.forEach(b),i.forEach(h),d(e))},h=function(e,t){e.changeRecords.length&&(t(e.changeRecords),e.changeRecords=[])},g=function(e,t){return arguments.length<2&&(t=r.get(e)),t&&t.notifier||{notify:function(t){t.type;var n=r.get(e);if(n){var o,i={object:e};for(o in t)"object"!==o&&(i[o]=t[o]);w(e,n,i)}},performChange:function(t,n){if("string"!=typeof t)throw new TypeError("Invalid non-string changeType");if("function"!=typeof n)throw new TypeError("Cannot perform non-function");var o,i,s=r.get(e),c=arguments[2],f=void 0===c?n():n.call(c);if(s&&b(s,e,t),s&&f&&"object"===(void 0===f?"undefined":_typeof(f))){i={object:e,type:t};for(o in f)"object"!==o&&"type"!==o&&(i[o]=f[o]);w(e,s,i)}}}},j=function(e,t,n,o){var r=i.get(n);r||i.set(n,r={observed:a(),changeRecords:[]}),r.observed.set(e,{acceptList:o.slice(),data:t}),t.handlers.set(n,r)},w=function(e,t,n,o){t.handlers.forEach(function(t){var r=t.observed.get(e).acceptList;("string"!=typeof o||-1===f(r,o))&&f(r,n.type)>-1&&t.changeRecords.push(n)})};r=a(),i=a(),e.observe=function(t,n,o){if(!t||"object"!==(void 0===t?"undefined":_typeof(t))&&"function"!=typeof t)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof n)throw new TypeError("Object.observe cannot deliver to non-function");if(e.isFrozen&&e.isFrozen(n))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(void 0===o)o=s;else if(!o||"object"!==(void 0===o?"undefined":_typeof(o)))throw new TypeError("Third argument to Object.observe must be an array of strings.");return function(e,t,n){var o=r.get(e);o?(b(o,e),j(e,o,t,n)):(o=v(e),j(e,o,t,n),1===r.size&&d(y))}(t,n,o),t},e.unobserve=function(e,t){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof t)throw new TypeError("Object.unobserve cannot deliver to non-function");var n,o=i.get(t);return o&&(n=o.observed.get(e))&&(o.observed.forEach(function(e,t){b(e.data,t)}),d(function(){h(o,t)}),1===o.observed.size&&o.observed.has(e)?i.delete(t):o.observed.delete(e),1===n.data.handlers.size?r.delete(e):n.data.handlers.delete(t)),e},e.getNotifier=function(t){if(null===t||"object"!==(void 0===t?"undefined":_typeof(t))&&"function"!=typeof t)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return e.isFrozen&&e.isFrozen(t)?null:g(t)},e.deliverChangeRecords=function(e){if("function"!=typeof e)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=i.get(e);t&&(t.observed.forEach(function(e,t){b(e.data,t)}),h(t,e))}}(Object,Array,void 0);